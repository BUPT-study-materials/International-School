<html>
<head>
  <title>CH2 Operating System structures</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602326 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="830"/>
<h1>CH2 Operating System structures</h1>
<div>
<table bgcolor="#D4DDE5" border="0">
<tr><td><b>创建时间：</b></td><td><i>2020/12/15 10:31</i></td></tr>
<tr><td><b>作者：</b></td><td><i>dmadkr1217</i></td></tr>
</table>
</div>
<br/>

<div><span><h1>CH2 Operating System structures</h1><div><b>1.Operating system services</b></div><div style="padding-left:40px;">provide an <b>environment</b> for execution of programs and services to programes and users</div><div style="padding-left:40px;"><b>Functions:</b></div><div style="padding-left:80px;">1.User Interface:</div><div style="padding-left:120px;">Command-line(CLI),Graphics User Interface(GUI),Batch</div><div style="padding-left:80px;">2.Program execution:</div><div style="padding-left:120px;">load programs into memory and execution</div><div style="padding-left:80px;">3.I/O operations</div><div style="padding-left:120px;">file or I/O device</div><div style="padding-left:80px;">4.File-system manipulation </div><div style="padding-left:120px;">read and write files and directpries, create, delete, search, list file information</div><div style="padding-left:80px;">5.Communications</div><div style="padding-left:120px;">process may exchange information, via <b>shared memory </b>or <b>message passing.</b></div><div style="padding-left:80px;">6.Error detection</div><div style="padding-left:40px;"><b>Efficient operation:</b></div><div style="padding-left:80px;">1.Resource allocation:</div><div style="padding-left:120px;">CPU cycles, main memory, filte storage, I/Odevices</div><div style="padding-left:80px;">2.Accounting:</div><div style="padding-left:120px;">keep track of whick users use <b>how much and what kinds</b> of computer resources</div><div style="padding-left:80px;">3.Protection and security</div><div style="padding-left:120px;">Protection:    ensuring all access to system resources is controlled</div><div style="padding-left:120px;">Security: user </div><div><b>2.User Interface</b></div><div style="padding-left:40px;">1.CLI: allow direct command entry</div><div style="padding-left:80px;">implemented in kernel/systems,</div><div style="padding-left:80px;">multiple flavours implemented-shells</div><div style="padding-left:80px;">fetch a command from user and executes it</div><div style="padding-left:40px;">2.GUI:</div><div style="padding-left:80px;">desftop metaphor interfce</div><div style="padding-left:120px;">mouse, keyboard, monitor</div><div style="padding-left:120px;">Icons represent files, programs, actions, etc</div><div style="padding-left:80px;">Many systems now include both CLI and GUI interfaces</div><div><b>3.System Calls</b></div><div style="padding-left:40px;"><b>Programming interface to the services</b> provided by the OS</div><div style="padding-left:40px;">accessed by programs via <b>Application Programming Interface(API) </b>rather than direct system call</div><div style="padding-left:40px;">text are generic. Each operating system has its own name for each  system call. </div><div>4.<b>System Call Implementation</b></div><div style="padding-left:40px;">Typically, a number associated with each system call<b>System-call interface </b>maintains a table indexed according to these number</div><p style="padding-left:40px;">The system call interface <b>invokes  the intended system call</b> in OS kernel and  returns <b>status of the system call</b> and any return<b> values</b></p><div style="padding-left:40px;">The caller need know nothing about how the system call is implemented</div><div><b>5.System Call Parameter Passing</b></div><div style="padding-left:40px;">Often, more information is required than simply identity of desired system call,according to OS</div><div style="padding-left:40px;"><b>Three</b> general methods used to <b>pass parameters</b> to the OS:</div><div style="padding-left:80px;">1.Simplest:  pass the parameters in registers</div><div style="padding-left:80px;">2.Parameters stored in a block<i>, </i>or table, in memory, and address of block  passed as a parameter in a register </div><div style="padding-left:80px;">3.Parameters placed, or <b>pushed</b><i>, </i>onto the <b>stack </b>by the program </div><div style="padding-left:120px;">and <b>popped </b>off  the stack by the operating system</div><div><b>6.Types of system Calls</b></div><div style="padding-left:40px;"><b>1.Process control</b></div><div style="padding-left:80px;">create terminate process; load, execute; </div><div style="padding-left:80px;">Debugger for determining bugs, single step execution</div><div style="padding-left:80px;">Locks for access shared date</div><div style="padding-left:40px;"><b>2.File management</b></div><div style="padding-left:80px;">创建删除，开关，读写 reposition，get and set file attributes</div><div style="padding-left:40px;"><b>3.Device management</b></div><div style="padding-left:80px;">request,release device</div><div style="padding-left:80px;">read,write,reposition</div><div style="padding-left:80px;">get,set attributes</div><div style="padding-left:80px;">attach or detach devices</div><div style="padding-left:40px;"><b>4.Information maintenance</b></div><p style="padding-left:80px;">get time or date, set time or date</p><p style="padding-left:80px;">get system data, set system data</p><div style="padding-left:80px;">get and set process, file, or device attributes</div><div style="padding-left:40px;"><b>5.Communications</b></div><p style="padding-left:80px;">create, delete communication connection</p><div style="padding-left:80px;">send, receive messages if <b>message passing model </b>to <b>host name </b>or <b>process  name</b></div><div style="padding-left:80px;">From <b>client </b>to <b>server</b></div><p style="padding-left:80px;"><b>Shared-memory model </b>create and gain access to memory regions</p><p style="padding-left:80px;">transfer status information</p><div style="padding-left:80px;">attach and detach remote devices</div><div style="padding-left:40px;"><b>6.Protection</b></div><p style="padding-left:80px;">Control access to resources</p><p style="padding-left:80px;">Get and set permissions</p><div style="padding-left:80px;">Allow and deny user access</div><div><b>7.System Programs</b></div><div style="padding-left:40px;"><span style="font-size: 12pt;"><b>System programs</b> provide a <b>convenient environment</b> for <b>program development</b>  and <b>execution.</b> </span></div><div style="padding-left:80px;"> They can be divided into:</div><p style="padding-left:120px;">File manipulation </p><p style="padding-left:120px;">Status information sometimes stored in a File modification</p><p style="padding-left:120px;">Programming language support</p><p style="padding-left:120px;">Program loading and execution</p><p style="padding-left:120px;">Communications</p><p style="padding-left:120px;">Background services</p><div style="padding-left:120px;">Application programs</div><div style="padding-left:40px;">User's view of the operation system is defined by system programs, not actuall system calls</div><div style="padding-left:40px;">Some of system programs are<b> user interfaces to system calls</b>, others are considerably more complex</div><div style="padding-left:40px;"><b>1.File management</b></div><div><br/></div><div style="padding-left:40px;"><b>2.Status information</b></div><p style="padding-left:80px;">Some ask the system for info -date, time, amount of available memory, disk  space, number of users</p><div style="padding-left:80px;">Others provide detailed performance, logging, and debugging information</div><div style="padding-left:80px;">Typically,programs format and print the output to the terminal or other output devices</div><div style="padding-left:80px;"><b>-registry ：</b>store and retireve configuration information</div><div style="padding-left:40px;"><b>3.file modification</b></div><div style="padding-left:80px;">Text editors</div><div style="padding-left:80px;">commands to search contents of files or perform transformations</div><div style="padding-left:40px;"><b>4.Programming-language support </b></div><div style="padding-left:80px;">compilers</div><div style="padding-left:40px;"><b>5.Program loading and execution</b></div><div><br/></div><div style="padding-left:40px;"><b>6.communications</b></div><div><br/></div><div style="padding-left:40px;"><b>7.Background Services</b></div><div style="padding-left:80px;">services,subsystems,daemons</div><div style="padding-left:40px;"><b>8.Application programs</b></div><div><br/></div><div><b>8</b>.<b>Operating System Design and Implementation</b></div><div style="padding-left:40px;"><b>User </b>goals and <b>System </b>goals</div><p style="padding-left:80px;">User goals –operating system should be convenient to use, easy to learn,  reliable, safe, and fast</p><div style="padding-left:80px;">System goals –operating system should be easy to design, implement, and  maintain, as well as flexible, reliable, error-free, and efficient</div><div style="padding-left:40px;">Implementation</div><div><br/></div><div style="padding-left:40px;">OS structure</div><div style="padding-left:80px;">Various ways to structure ones</div><p style="padding-left:120px;">Simple structure –MS-DOS</p><p style="padding-left:120px;">More complex --UNIX</p><p style="padding-left:120px;">Layered –an abstrcation</p><div style="padding-left:120px;">Microkernel -Mach</div><div style="padding-left:80px;"><br/></div><div style="padding-left:40px;">Layered Approach</div><div style="padding-left:80px;">OS is divided into a number of layers</div><div style="padding-left:80px;">bottom layer is hardware, highest layer is user interface</div><div style="padding-left:80px;">each uses functions and services of only lower-level layers</div><div><b>9.Modules</b></div><div style="padding-left:40px;">Many OS implement <b>loadable kernel modules</b></div><p style="padding-left:80px;">Uses object-oriented approach</p><p style="padding-left:80px;">Each core component is separate</p><p style="padding-left:80px;">Each talks to the others over known interfaces</p><div style="padding-left:80px;">Each is loadable as needed within the kernel</div><div><b>10.Hybrid Systems</b></div><div style="padding-left:40px;">Most modern operating systems are actually not one pure model</div><div><br/></div><div><b>IOS</b></div><div style="padding-left:40px;">mobile os for iphone ipas</div><p style="padding-left:80px;"><b>Cocoa Touch </b>Objective-C API for developing apps</p><p style="padding-left:80px;"><b>Media services </b>layer for graphics, audio, video</p><p style="padding-left:80px;"><b>Core services </b>provides cloud computing, databases</p><div style="padding-left:80px;">Core operating system, based on Mac OS X kernel</div><div><br/></div><div><b>Android</b></div><div><br/></div><div><b>11.OS Debugging</b></div><div style="padding-left:40px;">Debugging is finding and fixing errors, or bugs</div><div style="padding-left:40px;">OS  generate <b>log files</b> containing error information</div><div style="padding-left:80px;"><b>Failure of an application</b> generate<b> core dump</b> file capturing memory of the process</div><div style="padding-left:80px;"><b>OS failure</b> generate<b> crash dump</b> file containing kernel memory</div><div style="padding-left:40px;">performance tuning optimize system performance</div><div style="padding-left:80px;">trace listing</div><div style="padding-left:80px;">profiling : is periodic sampling of instruction pointer to look for statistical trends</div><div style="padding-left:40px;">Kernighan's Law:debug 的难度是编程的两倍，最大能力的编程不可能被debug</div><div>          </div><div><b>12.Operating System Generation</b></div><div style="padding-left:40px;"><b>SYSGEN </b>program obtains information concerning the specific configuration of  the hardware syste</div><div><br/></div><div><b>13.System Boot</b></div><div style="padding-left:40px;">Firmware ROM used to hold initial boot code</div><div style="padding-left:40px;">Operating system must be made available to hardware so hardware can start  it</div><p style="padding-left:80px;">Small piece of code –<b>bootstrap loader</b>, stored in <b>ROM</b>or <b>EEPROM</b>locates the  kernel, loads it into memory, and starts it</p><div style="padding-left:80px;">Sometimes two-step process where <b>boot block </b>at fixed location loaded by  ROM code, which loads bootstrap loader from disk</div><div style="padding-left:40px;">Common bootstrap loader, <b>GRUB</b>, allows selection of kernel from multiple  disks, versions, kernel options</div><div style="padding-left:40px;">Kernel loads and system is then running</div></span>
</div></body></html> 